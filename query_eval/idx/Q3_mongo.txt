{
  explainVersion: '2',
  stages: [
    {
      '$cursor': {
        queryPlanner: {
          namespace: 'spotify.tracks',
          parsedQuery: {},
          indexFilterSet: false,
          queryHash: '33B06002',
          planCacheShapeHash: '33B06002',
          planCacheKey: '1089408A',
          optimizationTimeMillis: 0,
          maxIndexedOrSolutionsReached: false,
          maxIndexedAndSolutionsReached: false,
          maxScansToExplodeReached: false,
          prunedSimilarIndexes: false,
          winningPlan: {
            isCached: false,
            queryPlan: {
              stage: 'GROUP',
              planNodeId: 4,
              inputStage: {
                stage: 'FETCH',
                planNodeId: 2,
                inputStage: {
                  stage: 'IXSCAN',
                  planNodeId: 1,
                  keyPattern: {
                    decade: 1,
                    popularity: -1
                  },
                  indexName: 'decade_1_popularity_-1',
                  isMultiKey: false,
                  multiKeyPaths: {
                    decade: [],
                    popularity: []
                  },
                  isUnique: false,
                  isSparse: false,
                  isPartial: false,
                  indexVersion: 2,
                  direction: 'forward',
                  indexBounds: {
                    decade: [
                      '[MinKey, MaxKey]'
                    ],
                    popularity: [
                      '[MaxKey, MinKey]'
                    ]
                  }
                }
              }
            },
            slotBasedPlan: {
              slots: '$$RESULT=s17 env: { s5 = {"decade" : 1, "popularity" : -1}, s12 = SortSpec({"popularity" : -1}) }',
              stages: '[4] project [s17 = newObj("_id", s14, "top5", s16)] \n' +
                '[4] project [s16 = aggTopNFinalize(s15, s12)] \n' +
                '[4] group [s14] [s15 = aggTopN(s12, null, getSortKeyDesc(s11), (newObj("id", s8, "name", s10, "popularity", s11) ?: null)) init{[[], 0ll, 5ll, 0, 104857600, true]}] spillSlots[s13] mergingExprs[aggTopNMerge(s13, s12)] \n' +
                '[4] project [s14 = (s9 ?: null)] \n' +
                '[2] nlj inner [] [s1, s2, s3, s4, s5] \n' +
                '    left \n' +
                '        [1] ixseek KS(0A0F0104) KS(F0F5FE04) s4 s1 s2 s3 lowPriority [] @"eb2ae5e4-34bd-4d97-81c5-5bea59129794" @"decade_1_popularity_-1" true \n' +
                '    right \n' +
                '        [2] limit 1ll \n' +
                '        [2] seek s1 s6 s7 s2 s3 s4 s5 none none [s8 = _id, s9 = decade, s10 = name, s11 = popularity] @"eb2ae5e4-34bd-4d97-81c5-5bea59129794" true false \n'
            }
          },
          rejectedPlans: []
        },
        executionStats: {
          executionSuccess: true,
          nReturned: 13,
          executionTimeMillis: 617,
          totalKeysExamined: 586672,
          totalDocsExamined: 586672,
          executionStages: {
            stage: 'project',
            planNodeId: 4,
            nReturned: 13,
            executionTimeMillisEstimate: 598,
            opens: 1,
            closes: 1,
            saveState: 20,
            restoreState: 20,
            isEOF: 1,
            projections: {
              '17': 'newObj("_id", s14, "top5", s16) '
            },
            inputStage: {
              stage: 'project',
              planNodeId: 4,
              nReturned: 13,
              executionTimeMillisEstimate: 598,
              opens: 1,
              closes: 1,
              saveState: 20,
              restoreState: 20,
              isEOF: 1,
              projections: {
                '16': 'aggTopNFinalize(s15, s12) '
              },
              inputStage: {
                stage: 'group',
                planNodeId: 4,
                nReturned: 13,
                executionTimeMillisEstimate: 598,
                opens: 1,
                closes: 1,
                saveState: 20,
                restoreState: 20,
                isEOF: 1,
                groupBySlots: [
                  14
                ],
                expressions: {
                  '15': 'aggTopN(s12, null, getSortKeyDesc(s11), (newObj("id", s8, "name", s10, "popularity", s11) ?: null)) ',
                  initExprs: {
                    '15': '[[], 0ll, 5ll, 0, 104857600, true] '
                  }
                },
                mergingExprs: {
                  '13': 'aggTopNMerge(s13, s12) '
                },
                usedDisk: false,
                spills: 0,
                spilledBytes: 0,
                spilledRecords: 0,
                spilledDataStorageSize: 0,
                inputStage: {
                  stage: 'project',
                  planNodeId: 4,
                  nReturned: 586672,
                  executionTimeMillisEstimate: 450,
                  opens: 1,
                  closes: 1,
                  saveState: 20,
                  restoreState: 20,
                  isEOF: 1,
                  projections: {
                    '14': '(s9 ?: null) '
                  },
                  inputStage: {
                    stage: 'nlj',
                    planNodeId: 2,
                    nReturned: 586672,
                    executionTimeMillisEstimate: 450,
                    opens: 1,
                    closes: 1,
                    saveState: 20,
                    restoreState: 20,
                    isEOF: 1,
                    totalDocsExamined: 586672,
                    totalKeysExamined: 586672,
                    collectionScans: 0,
                    collectionSeeks: 586672,
                    indexScans: 0,
                    indexSeeks: 1,
                    indexesUsed: [
                      'decade_1_popularity_-1'
                    ],
                    innerOpens: 586672,
                    innerCloses: 1,
                    outerProjects: [],
                    outerCorrelated: [
                      1,
                      2,
                      3,
                      4,
                      5
                    ],
                    outerStage: {
                      stage: 'ixseek',
                      planNodeId: 1,
                      nReturned: 586672,
                      executionTimeMillisEstimate: 80,
                      opens: 1,
                      closes: 1,
                      saveState: 20,
                      restoreState: 20,
                      isEOF: 1,
                      indexName: 'decade_1_popularity_-1',
                      keysExamined: 586672,
                      seeks: 1,
                      numReads: 586673,
                      indexKeySlot: 4,
                      recordIdSlot: 1,
                      snapshotIdSlot: 2,
                      indexIdentSlot: 3,
                      outputSlots: [],
                      indexKeysToInclude: '00000000000000000000000000000000',
                      seekKeyLow: 'KS(0A0F0104) ',
                      seekKeyHigh: 'KS(F0F5FE04) '
                    },
                    innerStage: {
                      stage: 'limit',
                      planNodeId: 2,
                      nReturned: 586672,
                      executionTimeMillisEstimate: 370,
                      opens: 586672,
                      closes: 1,
                      saveState: 20,
                      restoreState: 20,
                      isEOF: 1,
                      limit: 1,
                      inputStage: {
                        stage: 'seek',
                        planNodeId: 2,
                        nReturned: 586672,
                        executionTimeMillisEstimate: 370,
                        opens: 586672,
                        closes: 1,
                        saveState: 20,
                        restoreState: 20,
                        isEOF: 0,
                        numReads: 586672,
                        recordSlot: 6,
                        recordIdSlot: 7,
                        seekRecordIdSlot: 1,
                        snapshotIdSlot: 2,
                        indexIdentSlot: 3,
                        indexKeySlot: 4,
                        indexKeyPatternSlot: 5,
                        scanFieldNames: [
                          '_id',
                          'decade',
                          'name',
                          'popularity'
                        ],
                        scanFieldSlots: [
                          8,
                          9,
                          10,
                          11
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      nReturned: 13,
      executionTimeMillisEstimate: 600
    },
    {
      '$sort': {
        sortKey: {
          _id: 1
        }
      },
      totalDataSizeSortedBytesEstimate: 29658,
      usedDisk: false,
      spills: 0,
      spilledDataStorageSize: 0,
      nReturned: 13,
      executionTimeMillisEstimate: 600
    }
  ],
  queryShapeHash: '63E4644A1583D630A885D5EA0428A87FE397D407D6D5C96F25659C8D848FE17E',
  serverInfo: {
    host: 'Mac.fritz.box',
    port: 27017,
    version: '8.0.12',
    gitVersion: 'b60fc6875b5fb4b63cc0dbbd8dda0d6d6277921a'
  },
  serverParameters: {
    internalQueryFacetBufferSizeBytes: 104857600,
    internalQueryFacetMaxOutputDocSizeBytes: 104857600,
    internalLookupStageIntermediateDocumentMaxSizeBytes: 104857600,
    internalDocumentSourceGroupMaxMemoryBytes: 104857600,
    internalQueryMaxBlockingSortMemoryUsageBytes: 104857600,
    internalQueryProhibitBlockingMergeOnMongoS: 0,
    internalQueryMaxAddToSetBytes: 104857600,
    internalDocumentSourceSetWindowFieldsMaxMemoryBytes: 104857600,
    internalQueryFrameworkControl: 'trySbeRestricted',
    internalQueryPlannerIgnoreIndexWithCollationForRegex: 1
  },
  command: {
    aggregate: 'tracks',
    pipeline: [
      {
        '$sort': {
          decade: 1,
          popularity: -1
        }
      },
      {
        '$group': {
          _id: '$decade',
          top5: {
            '$topN': {
              n: 5,
              sortBy: {
                popularity: -1
              },
              output: {
                id: '$_id',
                name: '$name',
                popularity: '$popularity'
              }
            }
          }
        }
      },
      {
        '$sort': {
          _id: 1
        }
      }
    ],
    allowDiskUse: true,
    hint: 'decade_1_popularity_-1',
    cursor: {},
    '$db': 'spotify'
  },
  ok: 1
}